webpackJsonp([0],{127:function(t,e,a){"use strict";function i(t){s||a(223)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(128),r=a(523),s=!1,o=a(87),l=i,c=o(n.a,r.a,!1,l,"data-v-a83bd3b0",null);c.options.__file="src/views/index.vue",e.default=c.exports},128:function(t,e,a){"use strict";var i=a(224),n=a(521);e.a={data:function(){return{activeMenu:"home"}},components:{home:i.a,history:n.a},methods:{menuChanged:function(t){this.activeMenu=t}}}},129:function(t,e,a){"use strict";function i(t){t&&(m=(m+1)%pdData.length);var e=1+pdData[m]+(Math.random()>.5?1:-1)*Math.random()*.3;return e<0&&(e=pdData[m]),1*e.toFixed(c)}var n=a(88),r=a.n(n),s={},o=3,l=pdData.length,c=2,u=Math.min(8,realData.length),d=[0,0,0],m=0;e.a={mounted:function(){var t=this,e=new Date;this.getFormerData(e,"weibo",0),this.getFormerData(e,"twitter",1),s=r.a.init(this.$refs.chart);var a={color:["#c12e34","#0098d9","#e6b600","#2b821d","#005eaa","#339ca8"],legend:{y:"bottom"},title:{text:"流感指数预测"},tooltip:{trigger:"axis",axisPointer:{animation:!1}},xAxis:{type:"time",splitLine:{show:!1}},yAxis:{type:"value",min:0,max:6,splitLine:{show:!1}},series:[{name:"微博数据",type:"line",showSymbol:!1,data:this.chartData[0],smooth:!0},{name:"Twitter数据",type:"line",showSymbol:!1,data:this.chartData[1],smooth:!0},{type:"line",name:"中发病率基准线（2%）",markLine:{silent:!0,label:{formatter:"中发病率（2%）"},data:[{name:"中发病率",yAxis:2}]}},{type:"line",name:"高发病率基准线（5%）",markLine:{silent:!0,label:{formatter:"高发病率（5%）"},data:[{name:"高发病率",yAxis:5}]}}]};s.setOption(a),setInterval(function(){o=(o+1)%realData.length;var e=realData[o],a=new Date;t.data.unshift({key:a.getTime(),title:e.user,time:a,description:"来自 "+e.source,content:e.content,like:e.like,comment:e.comment,forward:e.forward}),t.data.length==u+1&&t.data.pop();for(var i=new Date,n=2.5;n>=0;n--)for(var r=0;r<2;r++)t.chartData[r].shift(),t.chartData[r].push(t.getData(new Date(i.getTime()-2e3*n),"",r));s.setOption({series:[{data:t.chartData[0]},{data:t.chartData[1]}]})},5e3),this.$nextTick(function(){for(var e=0;e<o;e++){var a=new Date;t.data.push({key:a.getTime(),title:realData[e].user,time:a,description:"来自 "+realData[e].source,content:realData[e].content,like:realData[e].like,comment:realData[e].comment,forward:realData[e].forward})}})},data:function(){return{lastValue:[20,20,20],avgValue:[0,0,0],chartData:[],chartDataLength:l,data:[]}},methods:{getFormerData:function(t,e,a){for(var n=0,r=l,s=[],o=this.lastValue[a],c=0;c<l;c++){var u=new Date(t.getTime()-1e3*(l-c)*2);o=i(!0),n+=o,s[c]={name:u.toString(),value:[u.getTime(),o]}}this.lastValue[a]=s[r-1].value[1],this.avgValue[a]=n/r,d[a]=r,this.$set(this.chartData,a,s)},getData:function(t,e,a){var n=i(0==a);return this.lastValue[a]=n,this.avgValue[a]=(this.avgValue[a]*d[a]+n)/(d[a]+1),d[a]++,{name:t.toString(),value:[t,n]}}}}},211:function(t,e,a){"use strict";var i=a(88),n=a.n(i),r=timeData.map(function(t){return t[0]+"年/"+t[1]+"周"}),s=timeData.map(function(t,e){return{time:t[0]+"年/"+t[1]+"周",x:xData[e],y:yData[e],pd:pdData[e]}}),o={};e.a={mounted:function(){o=n.a.init(this.$refs.chart);var t={color:["#c12e34","#0098d9","#e6b600","#2b821d","#005eaa","#339ca8"],title:{text:"实际流感指数与预测流感指数",subtext:"",x:"center"},tooltip:{trigger:"axis",axisPointer:{animation:!1}},legend:{data:["实际流感指数","预测流感指数"],x:"left"},grid:{left:"3%",right:"4%",bottom:"9   %",containLabel:!0},axisPointer:{link:{xAxisIndex:"all"}},dataZoom:[{show:!0,realtime:!0,start:0,end:100},{type:"inside",realtime:!0}],xAxis:{type:"category",boundaryGap:!1,axisLine:{onZero:!0},data:this.timeDataTemp},yAxis:{type:"value"},series:[{name:"实际流感指数",type:"line",symbolSize:8,hoverAnimation:!1,data:this.yDataTemp},{name:"预测流感指数",type:"line",symbolSize:8,hoverAnimation:!1,data:this.pdDataTemp}]};o.setOption(t)},computed:{pageTableData:function(){return this.tableData.slice(10*this.pageIndex,10*(this.pageIndex+1))},pageTotal:function(){return this.tableData.length}},methods:{changePage:function(t){this.pageIndex=t-1},handleSubmit:function(){var t=this;this.pageIndex=0;var e=(this.formItem.startyear+"").split(" ")[3],a=this.formItem.startweak,i=(this.formItem.endyear+"").split(" ")[3],n=this.formItem.endweak;""===e||""===i?alert("请选择要筛选的范围"):(this.tableData=[],timeData.map(function(r,s){(r[0]===e&&r[1]>=a||r[0]>e)&&(r[0]===i&&r[1]<=n||r[0]<i)&&t.tableData.push({time:r[0]+"年/"+r[1]+"周",x:xData[s],y:yData[s],pd:pdData[s]})}))}},data:function(){return{pageIndex:0,formItem:{startyear:"",startweak:"",endyear:"",endweak:""},yDataTemp:yData,pdDataTemp:pdData,timeDataTemp:r,indexTemp:[],columns:[{title:"时间",key:"time"},{title:"x",key:"x"},{title:"y",key:"y"},{title:"预测流感指数",key:"pd"}],tableData:s}}}},219:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(86),n=a(126),r=a(222),s=(a(525),a(127)),o=a(218),l=a.n(o),c=a(544);a.n(c);i.default.use(l.a),i.default.use(n.a);var u={mode:"history",routes:r.a},d=new n.a(u);new i.default({el:"#app",router:d,render:function(t){return t(s.default)}})},222:function(t,e,a){"use strict";var i=[{path:"/",meta:{title:""},component:function(t){return new Promise(function(t){t()}).then(function(){var e=[a(127)];t.apply(null,e)}.bind(this)).catch(a.oe)}}];e.a=i},223:function(t,e){},224:function(t,e,a){"use strict";function i(t){s||a(225)}var n=a(129),r=a(520),s=!1,o=a(87),l=i,c=o(n.a,r.a,!1,l,"data-v-7eb2bc79",null);c.options.__file="src/views/home.vue",e.a=c.exports},225:function(t,e){},520:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"section"},[a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{span:"8"}},[a("Card",[a("strong",{attrs:{slot:"title"},slot:"title"},[t._v("实时数据")]),t._v(" "),a("CellGroup",[a("Cell",{attrs:{title:"微博数据"}},[t.chartData[0]?a("div",{staticClass:"badge-number",attrs:{slot:"extra"},slot:"extra"},[t._v(t._s(t.chartData[0][t.chartData[0].length-1].value[1]))]):a("div",{staticClass:"badge-number",attrs:{slot:"extra"},slot:"extra"},[t._v("0.00")])]),t._v(" "),a("Cell",{attrs:{title:"Twitter数据"}},[t.chartData[1]&&t.chartData[1][t.chartDataLength-1]?a("div",{staticClass:"badge-number",attrs:{slot:"extra"},slot:"extra"},[t._v(t._s(t.chartData[1][t.chartDataLength-1].value[1]))]):a("div",{staticClass:"badge-number",attrs:{slot:"extra"},slot:"extra"},[t._v("0.00")])])],1)],1)],1),t._v(" "),a("Col",{attrs:{span:"8"}},[a("Card",[a("strong",{attrs:{slot:"title"},slot:"title"},[t._v("当日均值")]),t._v(" "),a("CellGroup",[a("Cell",{attrs:{title:"微博数据"}},[a("div",{staticClass:"badge-number",attrs:{slot:"extra"},slot:"extra"},[t._v(t._s(t.avgValue[0].toFixed(3)))])]),t._v(" "),a("Cell",{attrs:{title:"Twitter数据"}},[a("div",{staticClass:"badge-number",attrs:{slot:"extra"},slot:"extra"},[t._v(t._s(t.avgValue[1].toFixed(3)))])])],1)],1)],1),t._v(" "),a("Col",{attrs:{span:"8"}},[a("Card",[a("strong",{attrs:{slot:"title"},slot:"title"},[t._v("数据总量")]),t._v(" "),a("CellGroup",[a("Cell",{attrs:{title:"微博数据"}},[a("div",{staticClass:"badge-number",attrs:{slot:"extra"},slot:"extra"},[t._v("15k+")])]),t._v(" "),a("Cell",{attrs:{title:"Twitter数据"}},[a("div",{staticClass:"badge-number",attrs:{slot:"extra"},slot:"extra"},[t._v("26k+")])])],1)],1)],1)],1)],1),t._v(" "),a("Card",{staticClass:"section"},[a("div",{ref:"chart",staticStyle:{"min-height":"400px"}})]),t._v(" "),a("Card",{staticClass:"section"},[a("div",[a("transition-group",{attrs:{name:"list",tag:"List"}},t._l(t.data,function(e,i){return a("ListItem",{key:e.key?e.key:e.title},[a("div",{staticClass:"info-list-item"},[a("div",{staticClass:"list-title"},[a("div",{staticClass:"list-title-content"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"list-title-time"},[a("Time",{attrs:{time:e.time,type:"datetime"}})],1),t._v(" "),a("div",{staticClass:"list-desc"},[t._v(t._s(e.description))])]),t._v(" "),a("div",{staticClass:"list-content"},[t._v(t._s(e.content))]),t._v(" "),a("div",{staticClass:"list-action"},[a("ul",[a("li",[a("Icon",{attrs:{type:"ios-star-outline"}}),t._v("\n                  "+t._s(e.forward)+"\n                ")],1),t._v(" "),a("li",[a("Icon",{attrs:{type:"ios-thumbs-up-outline"}}),t._v("\n                  "+t._s(e.like)+"\n                ")],1),t._v(" "),a("li",[a("Icon",{attrs:{type:"ios-chatbubbles-outline"}}),t._v("\n                  "+t._s(e.comment)+"\n                ")],1)])])])])}),1)],1)])],1)},n=[];i._withStripped=!0;var r={render:i,staticRenderFns:n};e.a=r},521:function(t,e,a){"use strict";var i=a(211),n=a(522),r=a(87),s=r(i.a,n.a,!1,null,null,null);s.options.__file="src/views/history.vue",e.a=s.exports},522:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("div",{ref:"chart",staticStyle:{height:"400px",margin:"0 auto"}})]),t._v(" "),a("Card",{staticStyle:{"margin-top":"20px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("原始数据")]),t._v(" "),a("Form",{attrs:{"label-width":100,inline:""},model:{value:t.formItem,callback:function(e){t.formItem=e},expression:"formItem"}},[a("FormItem",{attrs:{label:"起始时间"}},[a("DatePicker",{attrs:{type:"year",placeholder:"开始年份"},model:{value:t.formItem.startyear,callback:function(e){t.$set(t.formItem,"startyear",e)},expression:"formItem.startyear"}}),t._v(" "),a("InputNumber",{attrs:{max:52,min:1,placeholder:"开始周数"},model:{value:t.formItem.startweak,callback:function(e){t.$set(t.formItem,"startweak",e)},expression:"formItem.startweak"}})],1),t._v(" "),a("FormItem",{attrs:{label:"终止时间"}},[a("DatePicker",{attrs:{type:"year",placeholder:"终止年份"},model:{value:t.formItem.endyear,callback:function(e){t.$set(t.formItem,"endyear",e)},expression:"formItem.endyear"}}),t._v(" "),a("InputNumber",{attrs:{max:52,min:1,placeholder:"终止周数"},model:{value:t.formItem.endweak,callback:function(e){t.$set(t.formItem,"endweak",e)},expression:"formItem.endweak"}})],1),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit()}}},[t._v("筛选")])],1)],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.pageTableData}}),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.pageTotal},on:{"on-change":t.changePage}})],1)])],1)],1)},n=[];i._withStripped=!0;var r={render:i,staticRenderFns:n};e.a=r},523:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout"},[i("Layout",[i("Menu",{attrs:{mode:"horizontal","active-name":t.activeMenu},on:{"on-select":t.menuChanged}},[i("div",{staticClass:"layout-logo"},[i("img",{attrs:{src:a(524)}})]),t._v(" "),i("div",{staticClass:"layout-nav"},[i("MenuItem",{attrs:{name:"home"}},[i("Icon",{attrs:{type:"ios-navigate"}}),t._v("首页\n        ")],1),t._v(" "),i("MenuItem",{attrs:{name:"history"}},[i("Icon",{attrs:{type:"ios-book"}}),t._v("历史数据\n        ")],1)],1)]),t._v(" "),i("Content",{style:{padding:"20px 50px"}},["home"==t.activeMenu?i("home"):t._e(),t._v(" "),"history"==t.activeMenu?i("history"):t._e()],1),t._v(" "),i("Footer",{staticClass:"layout-footer-center"},[t._v("2019 © IRLab.SDU")])],1)],1)},n=[];i._withStripped=!0;var r={render:i,staticRenderFns:n};e.a=r},524:function(t,e,a){t.exports=a.p+"a4eb4a46d8a859d7d3cc4fe87e226c56.png"},525:function(t,e,a){"use strict";var i=a(212),n=(a.n(i),a(543));a.n(n)},543:function(t,e){},544:function(t,e){},87:function(t,e){t.exports=function(t,e,a,i,n,r){var s,o=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(s=t,o=t.default);var c="function"==typeof o?o.options:o;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),a&&(c.functional=!0),n&&(c._scopeId=n);var u;if(r?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=u):i&&(u=i),u){var d=c.functional,m=d?c.render:c.beforeCreate;d?(c._injectStyles=u,c.render=function(t,e){return u.call(e),m(t,e)}):c.beforeCreate=m?[].concat(m,u):[u]}return{esModule:s,exports:o,options:c}}}},[219]);